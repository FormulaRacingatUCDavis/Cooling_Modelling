%% Plotting Script for Pump and System Curves
% Input data from google sheet and use this to plot
clc
clear all
close all

data = [2	9	0.8	5.516	1.691735248	6.895	36.89273525	82.3759	164.7518	247.1277	38.2698184	5.491726667	0.1435002019	14.35002019	7.175010095
        3	16	0.8	5.516	3.806404307	10.98890625	58.28912306	80.4145	160.829	241.2435	38.40474025	8.04145	0.2093869129	20.93869129	10.46934564
        4	22	0.8	5.516	6.766940991	15.5132	80.82254099	79	158	237	38.5495565	10.53333333	0.2732413623	27.32413623	13.66206811
        5	32	1.1875	8.1878125	10.5733453	22.40796	117.9850378	77.45	154.9	232.35	38.70499276	12.90833333	0.3335056388	33.35056388	16.67528194
        6	44	1.704166667	11.75022917	15.22561723	27.579	153.7128464	76.5	153	229.5	38.87182783	15.3	0.3936012494	39.36012494	19.68006247
        7	56	2.220833333	15.31264583	20.72375678	32.7501	190.2867026	75.5	151	226.5	39.05089764	17.61666667	0.4511206587	45.11206587	22.55603294
        8	76	2.7375	18.8750625	27.06776396	36.19748	230.5352665	74.5	149	223.5	39.24309941	19.86666667	0.5062461162	50.62461162	25.31230581
        9	93	3.254166667	22.43747917	34.25763877	41	272.6951179	72.5	145	217.5	39.44939617	21.75	0.5513392373	55.13392373	27.56696187
        10	115	3.770833334	25.99989583	42.29338119	45	318.293277	70.6	141.2	211.8	39.67082157	23.53333333	0.5932151743	59.32151743	29.66075871
        11	140	4.2875	29.5623125	51.17499124	49.5	369.2373037	69	138	207	39.90848505	25.3	0.6339503984	63.39503984	31.69751992
    ];

flow_rate = data(:,1); %LPM
total_pressure_drop = data(:,7)-40; %kPa
davies_pump_curve = data(:,8); %kPa
two_davies_pump = data(:,9); %kPa
efficiency = data(:,end); % %

% Plotting
yyaxis left
hold on
plot(flow_rate,total_pressure_drop,"DisplayName","System Pressure Drop","Color","blue")
plot(flow_rate,davies_pump_curve, "DisplayName","1 Davies Pump", "Color","red","LineStyle","-")
plot(flow_rate,two_davies_pump,"DisplayName","2 Davies Pump","Color","Green","LineStyle","-")
title("FE11 System Curve")
xlabel(" Flow Rate [LPM]")
ylabel("Pressure [kPa]")

yyaxis right
plot(flow_rate,efficiency,"DisplayName","Efficiency")
ylabel("Efficiency [%]")
legend('Location','best')